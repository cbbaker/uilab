{
    "type": "Container",
    "children": {
        "panel": {
            "type": "Panel",
            "children": {
                "heading": {
                    "type": "Title",
                    "text": "Listing rides",
                    "level": 3,
                    "classes": ["panel-title"]
                },
                "body": {
                    "type": "Container",
                    "children": {
                        "flash": {
                            "type": "Row",
                            "children": {
                                "flash": {
                                    "type": "Flash"
                                }
                            }
                        },
                        "newButton": {
                            "type": "Row",
                            "children": {
                                "pullRight": {
                                    "type": "PullRight",
                                    "children": {
                                        "createButton": {
                                            "type": "NewRideButton",
                                            "text": "Create new",
                                            "idPrefix": "newRide",
                                            "defaults": {
                                                "user_id": {
                                                    "type": "const_int",
                                                    "value": 1
                                                },
                                                "started_at": {
                                                    "type": "current_time"
                                                },
                                                "duration": {
                                                    "type": "last_create"
                                                },
                                                "power": {
                                                    "type": "last_create"
                                                },
                                                "heart_rate": {
                                                    "type": "last_create"
                                                },
                                                "notes": {
                                                    "type": "const_string",
                                                    "value": ""
                                                }
                                            },
                                            "last": {
                                                "user_id": 1,
                                                "started_at": "2/1/2017",
                                                "duration": 60,
                                                "power": 110,
                                                "heart_rate": 128,
                                                "notes": ""
                                            },
                                            "template": {
                                                "type": "Choice",
                                                "subscription": "newItem",
                                                "initial": "edit",
                                                "children": {
                                                    "edit": {
                                                        "type": "RideEdit",
                                                        "subscription": "newItemShow",
                                                        "data": {
                                                            "lookup": "data"
                                                        },
                                                        "actions": {
                                                            "cancel": {
                                                                "links": [],
                                                                "publishes": [{
                                                                    "channel": "deleteRide"
                                                                }]
                                                            },
                                                            "update": {
                                                                "links": [{
                                                                    "url": "/rides",
                                                                    "method": "POST",
                                                                    "body": {},
                                                                    "success": "newItemUpdate"
                                                                }],
                                                                "publishes": [
                                                                    {
                                                                        "channel": "newItemEdit"
                                                                    },
                                                                    {
                                                                        "channel": "newItem",
                                                                        "payload": "show"
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            "enabled": true,
                                            "actions": {
                                                "press": {
                                                    "links": [],
                                                    "publishes": [{
                                                        "channel": "newRideButton",
                                                        "payload": {}
                                                    }]
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "list": {
                            "type": "Row",
                            "children": {
                                "list": {
                                    "type": "ListGroup",
                                    "subscriptions": {
                                        "insert": "insertRide",
                                        "delete": "deleteRide"
                                    },
                                    "children": {
                                        "item801" : {
                                            "type": "Choice",
                                            "subscription": "item801",
                                            "initial": "show",
                                            "children": {
                                                "show": {
                                                    "type": "RideShow",
                                                    "subscription": "item801Edit",
                                                    "data": {
                                                        "user_id": 1,
                                                        "started_at": "2/1/2017",
                                                        "duration": 60,
                                                        "power": 110,
                                                        "heart_rate": 128,
                                                        "notes": ""
                                                    },
                                                    "actions": {
                                                        "edit": {
                                                            "links": [],
                                                            "publishes": [{
                                                                "channel": "item801",
                                                                "payload": "edit"
                                                            }, {
                                                                "channel": "item801Show"
                                                            }]
                                                        },
                                                        "delete": {
                                                            "links": [{
                                                                "url": "/rides/801",
                                                                "method": "DELETE",
                                                                "body": {},
                                                                "success": "item801Delete"
                                                            }],
                                                            "publishes": [{
                                                                "channel": "deleteRide",
                                                                "payload": ["item801"]
                                                            }]
                                                        }
                                                    }
                                                },
                                                "edit": {
                                                    "type": "RideEdit",
                                                    "subscription": "item801Show",
                                                    "data": {
                                                        "user_id": 1,
                                                        "started_at": "2/1/2017",
                                                        "duration": 60,
                                                        "power": 110,
                                                        "heart_rate": 128,
                                                        "notes": ""
                                                    },
                                                    "actions": {
                                                        "cancel": {
                                                            "links": [],
                                                            "publishes": [{
                                                                "channel": "item801",
                                                                "payload": "show"
                                                            }]
                                                        },
                                                        "update": {
                                                            "links": [{
                                                                "url": "/rides/801",
                                                                "method": "PUT",
                                                                "body": {},
                                                                "success": "item801Update"
                                                            }],
                                                            "publishes": [
                                                                {
                                                                    "channel": "item801Edit"
                                                                },
                                                                {
                                                                    "channel": "item801",
                                                                    "payload": "show"
                                                                }
                                                            ]
                                                        },
                                                        "delete": {
                                                            "links": [{
                                                                "url": "/rides/801",
                                                                "method": "DELETE",
                                                                "body": {},
                                                                "success": "item801Delete"
                                                            }],
                                                            "publishes": [{
                                                                "channel": "deleteRide",
                                                                "payload": ["item801"]
                                                            }]
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "item800" : {
                                            "type": "Choice",
                                            "subscription": "item800",
                                            "initial": "show",
                                            "children": {
                                                "show": {
                                                    "type": "RideShow",
                                                    "subscription": "item800Edit",
                                                    "data": {
                                                        "user_id": 1,
                                                        "started_at": "1/31/2017",
                                                        "duration": 60,
                                                        "power": 108,
                                                        "heart_rate": 128,
                                                        "notes": ""
                                                    },
                                                    "actions": {
                                                        "edit": {
                                                            "links": [],
                                                            "publishes": [{
                                                                "channel": "item800",
                                                                "payload": "edit"
                                                            }, {
                                                                "channel": "item800Show"
                                                            }]
                                                        },
                                                        "delete": {
                                                            "links": [{
                                                                "url": "/rides/800",
                                                                "method": "DELETE",
                                                                "body": {},
                                                                "success": "item800Delete"
                                                            }],
                                                            "publishes": [{
                                                                "channel": "deleteRide",
                                                                "payload": ["item800"]
                                                            }]
                                                        }
                                                    }
                                                },
                                                "edit": {
                                                    "type": "RideEdit",
                                                    "subscription": "item800Show",
                                                    "data": {
                                                        "user_id": 1,
                                                        "started_at": "1/31/2017",
                                                        "duration": 60,
                                                        "power": 108,
                                                        "heart_rate": 128,
                                                        "notes": ""
                                                    },
                                                    "actions": {
                                                        "cancel": {
                                                            "links": [],
                                                            "publishes": [{
                                                                "channel": "item800",
                                                                "payload": "show"
                                                            }]
                                                        },
                                                        "update": {
                                                            "links": [{
                                                                "url": "/rides/800",
                                                                "method": "PUT",
                                                                "body": {},
                                                                "success": "item800Update"
                                                            }],
                                                            "publishes": [
                                                                {
                                                                    "channel": "item800Edit"
                                                                },
                                                                {
                                                                    "channel": "item800",
                                                                    "payload": "show"
                                                                }
                                                            ]
                                                        },
                                                        "delete": {
                                                            "links": [{
                                                                "url": "/rides/800",
                                                                "method": "DELETE",
                                                                "body": {},
                                                                "success": "item800Delete"
                                                            }],
                                                            "publishes": [{
                                                                "channel": "deleteRide",
                                                                "payload": ["item800"]
                                                            }]
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "item798" : {
                                            "type": "Choice",
                                            "subscription": "item798",
                                            "initial": "show",
                                            "children": {
                                                "show": {
                                                    "type": "RideShow",
                                                    "subscription": "item798Edit",
                                                    "data": {
                                                        "user_id": 1,
                                                        "started_at": "1/25/2017",
                                                        "duration": 60,
                                                        "power": 108,
                                                        "heart_rate": 130,
                                                        "notes": ""
                                                    },
                                                    "actions": {
                                                        "edit": {
                                                            "links": [],
                                                            "publishes": [{
                                                                "channel": "item798",
                                                                "payload": "edit"
                                                            }, {
                                                                "channel": "item798Show"
                                                            }]
                                                        },
                                                        "delete": {
                                                            "links": [{
                                                                "url": "/rides/798",
                                                                "method": "DELETE",
                                                                "body": {},
                                                                "success": "item798Delete"
                                                            }],
                                                            "publishes": [{
                                                                "channel": "deleteRide",
                                                                "payload": ["item798"]
                                                            }]
                                                        }
                                                    }
                                                },
                                                "edit": {
                                                    "type": "RideEdit",
                                                    "subscription": "item798Show",
                                                    "data": {
                                                        "user_id": 1,
                                                        "started_at": "1/25/2017",
                                                        "duration": 60,
                                                        "power": 108,
                                                        "heart_rate": 130,
                                                        "notes": ""
                                                    },
                                                    "actions": {
                                                        "cancel": {
                                                            "links": [],
                                                            "publishes": [{
                                                                "channel": "item798",
                                                                "payload": "show"
                                                            }]
                                                        },
                                                        "update": {
                                                            "links": [{
                                                                "url": "/rides/798",
                                                                "method": "PUT",
                                                                "body": {},
                                                                "success": "item798Update"
                                                            }],
                                                            "publishes": [
                                                                {
                                                                    "channel": "item798Edit"
                                                                },
                                                                {
                                                                    "channel": "item798",
                                                                    "payload": "show"
                                                                }
                                                            ]
                                                        },
                                                        "delete": {
                                                            "links": [{
                                                                "url": "/rides/798",
                                                                "method": "DELETE",
                                                                "body": {},
                                                                "success": "item798Delete"
                                                            }],
                                                            "publishes": [{
                                                                "channel": "deleteRide",
                                                                "payload": ["item798"]
                                                            }]
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
